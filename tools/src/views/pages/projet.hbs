<link rel="stylesheet" href="/css/projet.css">

<div id="projet">
    <ul id="actions">
        <li class="btn btn-danger">
            <form action="/delete_img/{{id}}" method="get" data-btn-delete-img="">
                <button type="submit">
                    <i class="fas fa-trash-alt"></i>
                    <p>
                        Supprimer les images du projet
                    </p>
                </button>
            </form>
        </li>
        <li class="btn btn-success" data-btn-save="{{id}}">
            <i class="fas fa-save"></i>
            <p>
                Enregistrer les données
            </p>
        </li>
    </ul>

    <div id="content">
        <div class="row">
            <div class="form-group w75">
                <label for="title" class="required">Titre</label>
                <input type="text" id="title" name="title" value="{{title}}" placeholder="Titre...">
            </div>
            <div class="form-group w25">
                <label for="type" class="required">Type</label>
                <select id="type" name="type">
                    {{#if type}}
                        <option value="{{type}}" selected>{{type}}</option>
                    {{else}}
                        <option value="" disabled selected>Choisir un type</option>
                    {{/if}}

                    {{#each typeList}}
                        <option value="{{.}}">{{.}}</option>
                    {{/each}}
                </select>
            </div>
        </div>

        <div class="row">
            <div class="form-group w33">
                <label for="lieu">Lieu</label>
                <input type="text" id="lieu" name="lieu" value="{{lieu}}" placeholder="Entrez le lieu ici">
            </div>
            <div class="form-group w33">
                <label for="calendar">Calendrier</label>
                <input type="text" id="calendar" name="calendar" value="{{calendar}}" placeholder="Calendrier...">
            </div>
            <div class="form-group w33">
                <label for="moa">Maitre d'ouvrage</label>
                <input type="text" id="moa" name="moa" value="{{moa}}" placeholder="Maître d'ouvrage...">
            </div>
        </div>

        <div class="row">
            <div class="form-group w50">
                <label for="desc">Description</label>
                <textarea id="desc" name="desc" placeholder="Description...">{{desc}}</textarea>
            </div>

            <div class="col w50">
                <div class="form-group">
                    <label for="budget">Budget</label>
                    <input type="text" id="budget" name="budget" value="{{budget}}" placeholder="Budget...">
                </div>
                <div class="form-group">
                    <label for="surface">Surface</label>
                    <input type="text" id="surface" name="surface" value="{{surface}}" placeholder="Surface...">
                </div>
                <div class="form-group">
                    <label for="calendar" class="">Tag</label>
                    <input type="text" id="tag" name="tag" value="{{tag}}" placeholder="Tag..." readonly="" disabled="">
                </div>
            </div>
        </div>

        <div id="images-list">
            {{#if photos}}
                {{#if image}}
                    <img class="main" data-img-projet="" src="/assets/images/projects/{{image}}.jpg" alt="Images du projet {{images}}">
                    <div id="separator-img"></div>
                {{/if}}

                {{#each photos}}
                    <img data-img-projet="" src="/assets/images/projects/{{.}}.jpg" alt="Images du projet {{.}}">
                {{/each}}
            {{else}}
                <div drag-and-drop-zone="" class="file-container">
                    <label for="dropzone-file">
                        <div>
                            <svg class="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"/>
                            </svg>
                            <b>Importer vos images</b>
                            <p class="first">
                                <span>Click to upload</span> or drag and drop
                            </p>
                            <p class="second">JPG ({{tag}}00.jpg)</p>
                        </div>
                        <input input-dropzone="" multiple="" id="dropzone-file" type="file" accept="image/jpg" hidden="" />
                    </label>
                </div>
            {{/if}}
        </div>
    </div>
</div>

<script type="module" src="/js/projet.mjs"></script>